!function(){var e="KonnekApiInit";"function"!=typeof window[e]&&(window[e]=function(){var e,t={},r={},a="",i="",o="/shared_pages/",s="";function n(e){return null!=l.affiliate_id?(e.affId=l.affiliate_id,e.sourceValue1=l.affiliate_source1,e.sourceValue2=l.affiliate_source2,e.sourceValue3=l.affiliate_source3,e.sourceValue4=l.affiliate_source4,e.sourceValue5=l.affiliate_source5):""!=getQueryStringByName("affId")&&(e.affId=getQueryStringByName("affId"),e.sourceValue1=getQueryStringByName("c1"),e.sourceValue2=getQueryStringByName("c2"),e.sourceValue3=getQueryStringByName("c3"),e.sourceValue4=getQueryStringByName("c4"),e.sourceValue5=getQueryStringByName("c5")),""!=getQueryStringByName("transaction_id")&&(e.custom_transaction_id=getQueryStringByName("transaction_id"),e.custom1=getQueryStringByName("transaction_id")),e}function p(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==r?"":decodeURIComponent(r[1].replace(/\+/g," "))}t.withAds=!1,t.pass_cred_auth=function(e){return e},t.affiliate_id_defined_set=function(e){return n(e)};var l={loginId:"",password:"",api_path:"https://api.konnektive.com/",campaignId:-1,checkoutType:"one-page",offerType:"CART",corp_type:"",paypal_forceMerchantId:0,paypal_sandbox_id:0,paypal_production_id:0,warranty_prod_id:0,psmrToBoss:1,psmrBoss_key:"",psmr_prod_id:0,psmr_status:"opt-out",trial_pid:0,restrict_trial_cc:"amex,discover",ss_id:0,ss_onSuccess:"upsell1",pixel:"",geoLookUp:!1,geoLookUp_delay:!1,affiliate_id:null,affiliate_source1:"",affiliate_source2:"",affiliate_source3:"",affiliate_source4:"",affiliate_source5:""};window.getQueryStringByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},window.findWithAttr=function(e,t,r){for(var a=0;a<e.length;a+=1)if(e[a][t]===r)return a;return-1},window.extractDomain_=function(e){var t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],$.trim(t)},window.getCurrentOffer_=function(){var e=window.location.href.substr(0,window.location.href.lastIndexOf("/")).toLowerCase().replace("/mobile",""),t=e.lastIndexOf("/");return(e=$.trim(e.substr(t).replace("/","")))==extractDomain_(window.location.href)&&(e=""),"/"+e};var d=function(e){if("string"==typeof(r=e).shared_page&&(s=r.shared_page),$.removeCookie("pixel_setup"),"object"==typeof r.pixel_setup&&Array.isArray(r.pixel_setup)){var t=[],a=new Date;for(var i in a.setTime(a.getTime()+864e5),r.pixel_setup)r.pixel_setup[i].hasOwnProperty("page")&&r.pixel_setup[i].hasOwnProperty("pixel_path")&&(r.pixel_setup[i].page=r.pixel_setup[i].page+".html",t.push(r.pixel_setup[i]));""==s?$.cookie("pixel_setup",JSON.stringify(t),{expires:a}):$.cookie("pixel_setup",JSON.stringify(t),{path:o,expires:a}),l.pixel="pix_setup"}if("string"==typeof r.corp_type&&(l.corp_type=r.corp_type),"boolean"==typeof r.geoLookUp&&(l.geoLookUp=r.geoLookUp),"boolean"==typeof r.geoLookUp_delay&&(l.geoLookUp_delay=r.geoLookUp_delay),"string"==typeof r.api_path&&(l.api_path=r.api_path),""==l.api_path&&console.log("Please setup api path"),"number"==typeof r.campaignId&&(l.campaignId=r.campaignId),"string"==typeof r.offerType&&"NORMAL"==r.offerType.toUpperCase()&&(l.offerType=r.offerType.toUpperCase()),1==getQueryStringByName("testmode")?("number"==typeof r.paypal_sandbox_id&&(l.paypal_sandbox_id=r.paypal_sandbox_id),l.paypal_forceMerchantId=l.paypal_sandbox_id):("number"==typeof r.paypal_production_id&&(l.paypal_production_id=r.paypal_production_id),l.paypal_forceMerchantId=l.paypal_production_id),"number"==typeof r.paypal_forceMerchantId&&(l.paypal_forceMerchantId=r.paypal_forceMerchantId),"number"==typeof r.warranty_prod_id&&(l.warranty_prod_id=r.warranty_prod_id),"number"==typeof r.psmr_prod_id&&(l.psmr_prod_id=r.psmr_prod_id),"number"==typeof r.psmrToBoss&&0==r.psmrToBoss&&(l.psmrToBoss=r.psmrToBoss),"string"==typeof r.psmrBoss_key&&(l.psmrBoss_key=r.psmrBoss_key),$.removeCookie("pixel"),"string"==typeof r.pixel&&((a=new Date).setTime(a.getTime()+864e5),""==s?$.cookie("pixel",r.pixel,{expires:a}):$.cookie("pixel",r.pixel,{path:o,expires:a}),l.pixel="pix"),"number"==typeof r.trial_pid&&(l.trial_pid=r.trial_pid),"string"==typeof r.restrict_trial_cc&&(l.restrict_trial_cc=r.restrict_trial_cc),"number"==typeof r.ss_id&&(l.ss_id=r.ss_id),"string"==typeof r.ss_onSuccess&&(l.ss_onSuccess=r.ss_onSuccess),"string"==typeof r.psmr_status&&("opt-in"===r.psmr_status.toLowerCase()?l.psmr_status=r.psmr_status.toLowerCase():l.psmr_status="opt-out"),"string"==typeof r.checkoutType)switch(r.checkoutType.toLowerCase()){case"normal":case"compact":case"one-page":l.checkoutType=r.checkoutType.toLowerCase()}"number"==typeof r.affiliate_id&&0!=r.affiliate_id&&null!=r.affiliate_id&&(l.affiliate_id=r.affiliate_id),"string"==typeof r.affiliate_source1&&(l.affiliate_source1=r.affiliate_source1),"string"==typeof r.affiliate_source2&&(l.affiliate_source2=r.affiliate_source2),"string"==typeof r.affiliate_source3&&(l.affiliate_source3=r.affiliate_source3),"string"==typeof r.affiliate_source4&&(l.affiliate_source4=r.affiliate_source4),"string"==typeof r.affiliate_source5&&(l.affiliate_source5=r.affiliate_source5)};if(t.setWithAds=function(e){"boolean"==typeof e&&1==e&&(t.withAds=!0)},t.getWithAds=function(){return t.withAds},t.url_apiPath=function(){return""==location.port?"/api/konnektive/v2/":"http://dev.apiorders.com/api/konnektive/v2/"},t.get_corp_type=function(){return l.corp_type},t.set_corp_type=function(e){l.corp_type=e},t.set_shared_page_path=function(e){""!==e&&void 0!==e&&(o="/"+e+"/")},t.set_paypal_forceMerchantId=function(e){l.paypal_forceMerchantId=e},t.get_affiliate_id=function(){return l.affiliate_id},t.get_affiliate_source1=function(){return l.affiliate_source1},t.get_affiliate_source2=function(){return l.affiliate_source2},t.get_affiliate_source3=function(){return l.affiliate_source3},t.get_affiliate_source4=function(){return l.affiliate_source4},t.get_affiliate_source5=function(){return l.affiliate_source5},t.get_geoLookUp=function(){return l.geoLookUp},t.get_geoLookUp_delay=function(){return l.geoLookUp_delay},t.get_shared_page=function(){return s},t.get_shared_page_path=function(){var e="/"+location.pathname.split("/")[1]+"/";return e===o||-1==location.pathname.toLowerCase().indexOf("/shared_pages")&&"upsell"!=getQueryStringByName("fields_step")&&"thankyou"!=getQueryStringByName("fields_step")?o:e},t.setup=function(e){return d(e),t},t.get_pixel=function(){return l.pixel},t.getCheckoutType=function(){return l.checkoutType},t.getApi_path=function(){return l.api_path},t.getCompaignId=function(){return l.campaignId},t.setCompaignId=function(e){l.campaignId=e},t.getOfferType=function(){return l.offerType},t.setkonnecktiveSetup=function(t){return e=t},t.getkonnecktiveSetup=function(){return e},t.get_paypal_forceMerchantId=function(){return l.paypal_forceMerchantId},t.get_warranty_prod_id=function(){return l.warranty_prod_id},t.get_psmr_status=function(){return l.psmr_status},t.get_psmrToBoss=function(){return l.psmrToBoss},t.get_psmrBoss_key=function(){return l.psmrBoss_key},t.get_psmr_prod_id=function(){return l.psmr_prod_id},t.getOrderId=function(){return a},t.get_trial_pid=function(){return l.trial_pid},t.get_restrict_trial_cc=function(){return l.restrict_trial_cc},t.get_ss_id=function(){return l.ss_id},t.get_ss_onSuccess=function(){return l.ss_onSuccess},t.get_psrm_keycode=function(){return i},t.getQueryStringByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},t.getIPCloudflare=function(){$.get("https://www.cloudflare.com/cdn-cgi/trace",(function(e){e=e.trim().split("\n").reduce((function(e,t){return e[(t=t.split("="))[0]]=t[1],e}),{}),sessionStorage.setItem("local_ip",e.ip)})).always((function(){null==sessionStorage.getItem("local_ip")&&sessionStorage.setItem("local_ip","127.0.0.1")}))},t.validateFields=function(e,r){var a=void 0===r||null==r?"":r;return""!=t.getQueryStringByName(e.replace(".","").replace("#",""))?t.getQueryStringByName(e.replace(".","").replace("#","")).trim():"undefined"==$(e).val()||null==$(e).val()?a:$(e).val().trim()},t.updateQueryStringParameter=function(e,t,r){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+r+"$2"):e+i+t+"="+r},t.removeQuerystring=function(e,t){var r=e.split("?");if(r.length>=2){for(var a=encodeURIComponent(t)+"=",i=r[1].split(/[&;]/g),o=i.length;o-- >0;)-1!==i[o].lastIndexOf(a,0)&&i.splice(o,1);return r[0]+"?"+i.join("&")}return e},t.getResponse2=function(e,t,r){var a={type:"POST",url:e,dataType:"json",async:!0,data:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=utf-8"}},i="BOSS API SAVING DATA ERROR: \n\n";$.ajax(a).done((function(e){e.isSuccess||(e.hasOwnProperty("message")?alert(i+e.message):alert(i+JSON.stringify(e.errors)))})).fail((function(e,t,r){""!=r&&alert(i+r)})).always((function(){"function"==typeof r&&(console.log("exec callback"),r.call(this))}))},t.getResponse=function(r,o,s){var n=void 0!==o.call_type?o.call_type:"",p={type:"POST",url:r+"?call_type="+n+"&corp_type="+l.corp_type,dataType:"json",async:!0,data:o,contentTypeString:"application/x-www-form-urlencoded"};$.ajax(p).done((function(o){if((-1!=r.indexOf("campaign/query")||"campaign_query"==n)&&"success"==o.result.toLowerCase()){e=o;var p=o.message.data[t.getCompaignId()].products,d=o.message.data[t.getCompaignId()].campaignName,c=""!=getQueryStringByName("billerNdomain")?getQueryStringByName("billerNdomain"):$("#website").val();function u(e,t,r){(-1!=e[f].baseProductName.toLowerCase().indexOf("psmr")&&"OFFER"==e[f].productType&&-1==t.toLowerCase().indexOf("/")&&-1!=e[f].billerName.toLowerCase().indexOf(r)||-1!=e[f].baseProductName.toLowerCase().indexOf("psmr")&&"OFFER"==e[f].productType)&&(l.psmr_prod_id=e[f].campaignProductId),(-1!=e[f].baseProductName.toLowerCase().indexOf("warranty")&&"OFFER"==e[f].productType&&-1==t.toLowerCase().indexOf("/")&&-1!=e[f].billerName.toLowerCase().indexOf(r)||-1!=e[f].baseProductName.toLowerCase().indexOf("warranty")&&"OFFER"==e[f].productType&&-1!=t.toLowerCase().indexOf("/"))&&(l.warranty_prod_id=e[f].campaignProductId),(-1!=e[f].productName.toLowerCase().indexOf("ss")&&"OFFER"==e[f].productType&&-1==t.toLowerCase().indexOf("/")&&-1!=e[f].billerName.toLowerCase().indexOf(r)||-1!=e[f].productName.toLowerCase().indexOf("ss")&&"OFFER"==e[f].productType&&-1!=t.toLowerCase().indexOf("/"))&&(l.ss_id=e[f].campaignProductId),(-1!=e[f].productName.toLowerCase().indexOf("trial")&&"OFFER"==e[f].productType&&-1==t.toLowerCase().indexOf("/")&&-1!=e[f].billerName.toLowerCase().indexOf(r)||-1!=e[f].productName.toLowerCase().indexOf("trial")&&"OFFER"==e[f].productType&&-1!=t.toLowerCase().indexOf("/"))&&(l.trial_pid=e[f].campaignProductId)}if(""==getQueryStringByName("campaignId")||"second"==getQueryStringByName("fields_step")){for(var f in p)(null==p[f].billerName||-1==p[f].billerName.toLowerCase().indexOf("paypal"))&&u(p,d,c);var _=findWithAttr(o.message.data[t.getCompaignId()].products,"campaignProductId",t.get_psmr_prod_id());-1!=_&&(i=o.message.data[t.getCompaignId()].products[_].productSku,o.message.data[t.getCompaignId()].products[_].clientProductId,t.getIPCloudflare())}}-1==r.indexOf("leads/import")&&"leads_import"!=n||"success"==o.result.toLowerCase()&&(a=o.message.orderId),"function"==typeof s&&s.call(this,o)})).fail((function(e,t,r){""!=r?alert("ERROR: "+r):console.log("Something went wrong. Auto-reloading the page.")})).always((function(){console.log("trial:"+l.trial_pid),console.log("ss:"+l.ss_id),console.log("psmr:"+i)}))},t.importClick=function(){var e=t.url_apiPath(),r={call_type:"landers_clicks_import"};if(-1!=location.pathname.toLowerCase().indexOf("/thankyou.html"))r.pageType="thankyouPage";else if(-1!=location.pathname.toLowerCase().indexOf("/upsell")||"upsell"==getQueryStringByName("fields_step")){var a=getQueryStringByName("upsell_no");r.pageType="upsellPage"+(""==a?"1":a)}else 0==$("#fields_fname").length&&0==$("#cc_number").length?r.pageType="presellPage":0!=$("#fields_fname").length&&0==$("#cc_number").length?(r.pageType="leadPage",""==getQueryStringByName("fields_step")&&sessionStorage.removeItem("sessionId")):0!=$("#cc_number").length&&(sessionStorage.removeItem("upsell_query"),r.pageType="checkoutPage",r.fraudPixel=1,""==getQueryStringByName("fields_step")&&sessionStorage.removeItem("sessionId"));if(null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")){var i=sessionStorage.getItem("sessionId");1!=sessionStorage.getItem(i)||"leadPage"!=r.pageType&&"checkoutPage"!=r.pageType&&"presellPage"!=r.pageType||"1"==getQueryStringByName("paypalAccept")?r.sessionId=i:(sessionStorage.removeItem("sessionId"),sessionStorage.removeItem(i),r.campaignId=l.campaignId,r.requestUri=encodeURIComponent(location.href))}else r.campaignId=l.campaignId,r.requestUri=encodeURIComponent(location.href);t.getResponse(e,r,(function(e){if(null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")||"success"!=e.result.toLowerCase()||sessionStorage.setItem("sessionId",e.message.sessionId),0!=$("#cc_number").length&&e.message.hasOwnProperty("pixel")){var t=document.createElement("DIV");t.style.display="none",t.innerHTML=e.message.pixel,document.body.appendChild(t)}}))},t.confirmPaypal=function(e,r){if("object"!=typeof e||void 0===e)return console.error("ImportOrderPaypalExpress Error function: pass {} to obj parameter if no property"),!1;var a=t.url_apiPath(),i={call_type:"transactions_confirmPaypal",paypalAccept:getQueryStringByName("paypalAccept").trim()};if(""!=getQueryStringByName("PayerID")?(i.token=getQueryStringByName("token").trim(),i.payerId=getQueryStringByName("PayerID").trim()):""!=getQueryStringByName("baToken")&&(i.baToken=getQueryStringByName("ba_token").trim()),null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")&&(i.sessionId=sessionStorage.getItem("sessionId")),i=function(e){var t=[];t.push(JSON.parse(sessionStorage.getItem("paypalExpress")));var r=t[0].salesUrl;return""!=p("affId",r)&&(e.affId=p("affId",r),e.sourceValue1=p("c1",r),e.sourceValue2=p("c2",r),e.sourceValue3=p("c3",r),e.sourceValue4=p("c4",r),e.sourceValue5=p("c5",r)),""!=p("transaction_id",r)&&(e.custom_transaction_id=p("transaction_id",r),e.custom1=p("transaction_id",r)),e}(i),0!=e.length)for(var o in e)for(var s in e[o])"call_type"==s||(i[s]=e[o][s]);t.getResponse(a,i,r)},t.importOrderPaypalExpress=function(e,r){if("object"!=typeof e||void 0===e)return console.error("ImportOrderPaypalExpress Error function: pass {} to obj parameter if no property"),!1;var a=t.url_apiPath(),i={call_type:"order_import",campaignId:l.campaignId,sessionId:sessionStorage.getItem("sessionId"),paySource:"PAYPAL",paypalBillerId:t.get_paypal_forceMerchantId(),salesUrl:location.href,errorRedirectsTo:location.href};if(i=n(i),0!=e.length)for(var o in e)for(var s in e[o])i[s]=e[o][s];sessionStorage.removeItem("paypalExpress"),null==sessionStorage.getItem("paypalExpress")&&(sessionStorage.setItem("paypalExpress",JSON.stringify(i)),sessionStorage.setItem("redirection_paypal",location.href)),t.getResponse(a,i,r)},t.importLead=function(e){var r=t.url_apiPath(),a=t.validateFields("#fields_email"),i="function"==typeof e||void 0===e?t.validateFields("#fields_phone").replace(/ /g,""):e,o=t.validateFields("#fields_fname"),s=t.validateFields("#fields_lname"),p=t.validateFields("#fields_address1"),d=t.validateFields("#fields_address2"),c=t.validateFields("#fields_city"),u=t.validateFields("#fields_state"),f=t.validateFields("#fields_zip"),_=""==t.validateFields("#fields_country_select")?"US":t.validateFields("#fields_country_select"),g={call_type:"leads_import",campaignId:l.campaignId,emailAddress:a,phoneNumber:i};null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")&&(g.sessionId=sessionStorage.getItem("sessionId")),""!=getQueryStringByName("transaction_id")&&(g.custom_transaction_id=getQueryStringByName("transaction_id"),g.custom_aff_sub=getQueryStringByName("aff_sub"),g.custom_aff_sub2=getQueryStringByName("aff_sub2"),g.custom_aff_sub3=getQueryStringByName("aff_sub3")),(g=n(g)).shipFirstName=o,g.shipLastName=s,g.shipAddress1=p,g.shipAddress2=d,g.shipCountry=_,g.shipCity=c,g.shipState=u,g.shipPostalCode=f,$("#chkboxSameAddress").is(":checked")||0==$("#chkboxSameAddress").length?g.billShipSame=1:(g.billShipSame=0,g.firstName=$("#fields_fname_bill").val().trim(),g.lastName=$("#fields_lname_bill").val().trim(),g.address1=$("#fields_address1_bill").val().trim(),g.address2=$("#fields_address2_bill").val().trim(),g.country=_,g.city=$("#fields_city_bill").val().trim(),g.state=$("#fields_state_bill").val().trim(),g.postalCode=$("#fields_zip_bill").val().trim()),0==$("#fields_fname").length&&0==$("#fields_lname").length&&0==$("#fields_phone").length&&0==$("#fields_email").length||("function"==typeof e?t.getResponse(r,g,e):t.getResponse(r,g,(function(e){console.log(e)})))},t.importOrder=function(e,r,a,i){if("object"!=typeof e||void 0===e)return console.error("ImportOrder Error function: pass {} to obj parameter if no property"),!1;if(void 0!==r&&"creditcard"!=r.toLowerCase())return console.error("ImportOrder Error function: accepts only 'creditcard'"),!1;var o=t.url_apiPath(),s=t.validateFields("#fields_email"),p=""!=i?i:t.validateFields("#fields_phone"),d=t.validateFields("#fields_fname"),c=t.validateFields("#fields_lname"),u=t.validateFields("#fields_address1"),f=t.validateFields("#fields_address2"),_=t.validateFields("#fields_city"),g=t.validateFields("#fields_state"),y=t.validateFields("#fields_zip"),m=""==t.validateFields("#fields_country_select")?"US":t.validateFields("#fields_country_select"),h={call_type:"order_import",campaignId:l.campaignId,emailAddress:s,phoneNumber:p};if(null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")&&(h.sessionId=sessionStorage.getItem("sessionId")),h=n(h),0!=e.length)for(var S in e)for(var I in e[S])h[I]=e[S][I];h.shipFirstName=d,h.shipLastName=c,h.shipAddress1=u,h.shipAddress2=f,h.shipCountry=m,h.shipCity=_,h.shipState=g,h.shipPostalCode=y,$("#chkboxSameAddress").is(":checked")||0==$("#chkboxSameAddress").length?h.billShipSame=1:(h.billShipSame=0,h.firstName=$("#fields_fname_bill").val(),h.lastName=$("#fields_lname_bill").val(),h.address1=$("#fields_address1_bill").val(),h.address2=$("#fields_address2_bill").val(),h.country=m,h.city=$("#fields_city_bill").val(),h.state=$("#fields_state_bill").val(),h.postalCode=$("#fields_zip_bill").val()),""!=getQueryStringByName("orderId")&&(h.orderId=getQueryStringByName("orderId")),r.toLowerCase(),h.paySource="CREDITCARD",h.cardNumber=$("#cc_number").val(),h.cardMonth=$("#fields_expmonth").val(),h.cardSecurityCode=$("#cc_cvv").val(),h.cardYear=$("#fields_expyear").val(),t.getResponse(o,h,a)},t.importUpsell=function(e,r,a){var i=t.url_apiPath(),o=t.validateFields("#orderId");if("object"!=typeof e||void 0===e)return console.error("importUpsell Error function: pass {} to obj parameter if no property"),!1;if(void 0===r)return console.error("importUpsell Error function: pass productId a value"),!1;var s={call_type:"upsale_import",productId:r,orderId:o};if(null!=sessionStorage.getItem("sessionId")&&"undefined"!=sessionStorage.getItem("sessionId")&&(s.sessionId=sessionStorage.getItem("sessionId")),0!=e.length)for(var n in e)for(var p in e[n])s[p]=e[n][p];t.getResponse(i,s,a)},t.updateCustomer=function(e,r){var a=t.url_apiPath(),i={},o=$("#fields_fname").val().trim(),s=$("#fields_lname").val().trim(),n=$("#fields_address1").val().trim(),p=$("#fields_city").val().trim(),l=$("#fields_state").val().trim(),d=$("#fields_zip").val().trim(),c=""==$("#fields_country_select")?"US":$("#fields_country_select").val().trim();i.call_type="update_customer_shipping",i.orderId=e,i.shipFirstName=o,i.shipLastName=s,i.shipAddress1=n,i.shipCountry=c,i.shipCity=p,i.shipState=l,i.shipPostalCode=d,t.getResponse(a,i,r)},t.queryOrder=function(e,r){var a=t.url_apiPath(),i=t.validateFields("#orderId");if("object"!=typeof e||void 0===e)return console.log("queryOrder Error function: pass {} to obj parameter if no property"),!1;var o={call_type:"order_query",orderId:i};if(0!=e.length)for(var s in e)for(var n in e[s])o[n]=e[s][n];t.getResponse(a,Object.assign(e,o),r)},t.confirmOrder=function(e){var r=t.url_apiPath(),a={call_type:"order_confirm",orderId:void 0!==e?e:t.validateFields("#orderId")};t.getResponse(r,a,(function(e){"success"==e.result.toLowerCase()?console.log("Sent confirmation auto responder emails to the customer."):alert(e.message)}))},t.queryCampaign=function(e){var r=t.url_apiPath(),a={call_type:"campaign_query",campaignId:l.campaignId};t.getResponse(r,a,e)},t.queryCampaign2=function(e){var r=t.url_apiPath(),a={call_type:"campaign_query",campaignId:l.campaignId};return $.ajax({type:"POST",url:r+"?"+$.param(a)+"&corp_type="+l.corp_type,dataType:"json",data:a,contentTypeString:"application/x-www-form-urlencoded",async:!0})},t.orderCouponWholeOrder=function(e,r,a){var i=t.url_apiPath(),o={call_type:"order_coupon",campaignId:l.campaignId,couponCode:e};if(0!=r.length)for(var s in r)for(var n in r[s])o[n]=r[s][n];t.getResponse(i,o,a)},t.orderCoupon=function(e,r,a,i){var o=t.url_apiPath(),s={call_type:"order_coupon",campaignId:l.campaignId,product1_id:r,couponCode:e};void 0!==i&&(s.product1_qty=i),t.getResponse(o,s,a)},t.Preauth=function(e,r){if("object"!=typeof e||void 0===e)return console.error("Preauth Error function: pass {} to obj parameter if no property"),!1;var i=t.url_apiPath(),o={call_type:"order_preauth",orderId:a,paySource:"CREDITCARD",cardNumber:$("#cc_number").val(),cardExpiryDate:$("#fields_expmonth").val()+"/"+$("#fields_expyear").val(),cardSecurityCode:$("#cc_cvv").val()};if(0!=e.length)for(var s in e)for(var n in e[s])o[n]=e[s][n];t.getResponse(i,o,r)},""!=getQueryStringByName("corp_type")&&(l.corp_type=getQueryStringByName("corp_type").trim()),""!=getQueryStringByName("pixel")&&(l.pixel=getQueryStringByName("pixel").trim()),""!=getQueryStringByName("campaignId")&&(l.campaignId=getQueryStringByName("campaignId").trim()),""!=getQueryStringByName("checkoutType")&&(l.checkoutType=getQueryStringByName("checkoutType").trim()),""!=getQueryStringByName("offerType")&&(l.offerType=getQueryStringByName("offerType").toUpperCase().trim()),""!=getQueryStringByName("paypal_forceMerchantId")&&(l.paypal_forceMerchantId=getQueryStringByName("paypal_forceMerchantId").trim()),""!=getQueryStringByName("warranty_prod_id")&&(l.warranty_prod_id=getQueryStringByName("warranty_prod_id").trim()),""!=getQueryStringByName("psmr_prod_id")&&(l.psmr_prod_id=getQueryStringByName("psmr_prod_id").trim()),""!=getQueryStringByName("psmr_status")&&(l.psmr_status=getQueryStringByName("psmr_status").trim()),""!=getQueryStringByName("psmrToBoss")&&(l.psmrToBoss=getQueryStringByName("psmrToBoss").trim()),""!=getQueryStringByName("psmrBoss_key")&&(l.psmrBoss_key=getQueryStringByName("psmrBoss_key").trim()),""!=getQueryStringByName("r_trial_cc")&&(l.restrict_trial_cc=getQueryStringByName("r_trial_cc").trim()),""!=getQueryStringByName("psrm_keycode")&&(i=getQueryStringByName("psrm_keycode").trim()),""!=getQueryStringByName("trial_pid")&&(l.trial_pid=getQueryStringByName("trial_pid").trim()),""!=getQueryStringByName("ss_id")&&(l.ss_id=getQueryStringByName("ss_id").trim()),""!=getQueryStringByName("ss_onSuccess")&&(l.ss_onSuccess=getQueryStringByName("ss_onSuccess").trim()),""!=getQueryStringByName("shared_page")&&(s+=getQueryStringByName("shared_page").trim()),""!=getQueryStringByName("wAds")){var c=getQueryStringByName("wAds").toLowerCase().trim();t.withAds="true"===c}""!=getQueryStringByName("geoLookUp")&&(c=getQueryStringByName("geoLookUp").toLowerCase().trim(),l.geoLookUp="true"===c);return""!=getQueryStringByName("d_aff_id")&&(l.affiliate_id=getQueryStringByName("d_aff_id").trim()),""!=getQueryStringByName("aff_s1")&&(l.affiliate_source1=getQueryStringByName("aff_s1").trim()),""!=getQueryStringByName("aff_s2")&&(l.affiliate_source2=getQueryStringByName("aff_s2").trim()),""!=getQueryStringByName("aff_s3")&&(l.affiliate_source3=getQueryStringByName("aff_s3").trim()),""!=getQueryStringByName("aff_s4")&&(l.affiliate_source4=getQueryStringByName("aff_s4").trim()),""!=getQueryStringByName("aff_s5")&&(l.affiliate_source5=getQueryStringByName("aff_s5").trim()),t})}();